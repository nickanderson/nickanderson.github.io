<!DOCTYPE html>
<html lang="">

	<head>
		<title> Posts &middot;  </title>

		<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.80.0" />


<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">


<link rel="stylesheet" href="https://cmdln.org/css/nix.css">
<link rel="stylesheet" href="https://cmdln.org/css/syntax.css">


<link href="https://fonts.googleapis.com/css?family=Inconsolata|Open+Sans|Roboto|Montserrat|Concert+One" rel="stylesheet">




	</head>

	<body>
		<header>
<nav class="navbar navbar-default navbar-fixed-top navbar-inverse font-header">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" id="green-terminal" href=https://cmdln.org>nick@cmdln.org ~ $</a>
		</div>

		
		<div class="collapse navbar-collapse" id="navbar-collapse-1">
			<ul class="nav navbar-nav navbar-right">
				<li>
					<a href="https://cmdln.org">/home/nick</a>
				</li>
				
				
				<li >
					<a href="/post/">~/posts</a>
				</li>
				

			</ul>
		</div>
	</div>
</nav>
</header>

		<div class="container wrapper">
			<div class="row">
				<div class="col-xs-12 text-center">
					<h1 id=>Posts</h1>
				</div>
			</div>
			<ul id="post-list">
                	
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2019/08/14/reversing-key-values-of-a-json-dict-in-cfengine-with-jq/">Reversing key values of a JSON dict in CFEngine with jq</a></h4>
							<h4 class="post-date">Aug 14, 2019</h4>
						</div>
						<div class="post-summary"><p>Do you have any tips on reversing a json dictionary?
 I have a map of IPv4 addresses to environments and I would like to have a map of environments to IPv4s.
 1 2 3 4 5 6 7  { &#34;192.0.2.131&#34; : &#34;TEST-NET-1&#34;, &#34;198.51.100.151&#34; : &#34;TEST-NET-2&#34;, &#34;198.51.100.146&#34; : &#34;TEST-NET-2&#34;, &#34;203.0.113.146&#34; : &#34;TEST-NET-3&#34;, &#34;203.0.113.21&#34; : &#34;TEST-NET-3&#34; }     Would become:
 1 2 3 4 5 6 7 8 9 10 11 12 13  { &#34;TEST-NET-1&#34;: [ &#34;192.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2019/08/14/reversing-key-values-of-a-json-dict-in-cfengine-with-jq/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2019/08/13/how-to-use-the-not-function-inside-a-classes-type-promise-or/">How to use the not() function inside a classes type promise or</a></h4>
							<h4 class="post-date">Aug 13, 2019</h4>
						</div>
						<div class="post-summary"><p>How can I use or with a classes type promise where an element is negated with not().
 It&#39;s not currently possible to use not() directly within an or classes promise since it returns a string and not boolean.
 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  bundle agent main { vars: &#34;f&#34; string =&gt; &#34;/tmp/missing&#34;; classes: &#34;missing&#34; or =&gt; { not( fileexists( $(f) ) ) }; &#34;exists&#34; or =&gt; { fileexists( $(f) ) }; reports: missing:: &#34;$(f)is missing&#34;; exists:: &#34;$(f)is present&#34;; }     Using not() inside a classes or results in syntax error    Running the policy results in a syntax error</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2019/08/13/how-to-use-the-not-function-inside-a-classes-type-promise-or/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2019/05/31/custom-services-in-cfengine-3/">Custom services in CFEngine 3</a></h4>
							<h4 class="post-date">May 31, 2019</h4>
						</div>
						<div class="post-summary"><p>CFEngine provides the services promise type to manage the state of a given service. By default, bundle agent standard_services is used for the service_method. The standard_services bundle uses the status command and interprets the return codes according to the Linux Standard Base init script actions. Unfortunately some init scripts do not follow the standards. On sysvinit (non-systemd) hosts, if the status command returns zero when a service is not running, cfengine will issue the commands necessary to stop the service every time the agent is run.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2019/05/31/custom-services-in-cfengine-3/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2019/05/20/how-can-i-access-the-current-key-when-iterating-a-dict-in-mustache-from-cfengine/">How can I access the current KEY when iterating a dict in mustache from cfengine</a></h4>
							<h4 class="post-date">May 20, 2019</h4>
						</div>
						<div class="post-summary"><p>Can I access the current KEY when iterating in Mustache?
  Yes, CFEngine&#39;s implementation of mustache includes an extension to be able to access the current key when iterating. @ expands the current key being iterated.
 This example defines d as a simple json data structure with index-1 and index-2 being top level keys. The mustache template iterates over the entirety of the structure leveraging -top- (another cfengine specific extension to mustache) and prints the key using @.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2019/05/20/how-can-i-access-the-current-key-when-iterating-a-dict-in-mustache-from-cfengine/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2019/03/18/clearing-posix-acls-from-a-file-with-cfengine/">Clearing POSIX ACLs from a file with CFEngine</a></h4>
							<h4 class="post-date">Mar 18, 2019</h4>
						</div>
						<div class="post-summary"><p>From #cfengine on irc.freenode.net:
 How can I clear the POSIX ACLs from a file?
  To clear the POSIX ACLs from a file, you specify the ACL with no permissions.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58  bundle agent main { vars: &#34;file&#34; string =&gt; &#34;/tmp/myFileWithAces&#34;; files: &#34;$(file)&#34; create =&gt; &#34;true&#34;; methods: &#34;Set POSIX ACL and report&#34; usebundle =&gt; SetAndReport( $(file) ); &#34;UnSet POSIX ACL and report&#34; usebundle =&gt; UnSetAndReport( $(file) ); } bundle agent SetAndReport( file ) { files: &#34;$(file)&#34; acl =&gt; my_posix_aces; reports: &#34;In $(this.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2019/03/18/clearing-posix-acls-from-a-file-with-cfengine/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2019/03/08/executing-commands-with-substitution-from-cfengine/">Executing commands with substitution from CFEngine</a></h4>
							<h4 class="post-date">Mar 8, 2019</h4>
						</div>
						<div class="post-summary"><p>How can I execute a command that uses command substitution in CFEngine?
  On the console I might execute something like this:
 1 2  touch /tmp/file-$(date --iso-8601) ls /tmp/file-*    /tmp/file-2019-03-08   Example command substitution    I recommend not executing commands using substitution. Instead, prepare all that you need up front. Get the result of the data command and put it into a cfengine variable, then use the cfengine variable directly.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2019/03/08/executing-commands-with-substitution-from-cfengine/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2018/11/16/the-top-mustache-extension-in-cfengine-3/">The -top- mustache extension in CFEngine 3</a></h4>
							<h4 class="post-date">Nov 16, 2018</h4>
						</div>
						<div class="post-summary"><p>What is the -top- extension, and how do I use it in CFEngines Mustache templating method?
  The -top- extension to the mustache template method, first introduced in CFEngine 3.9.0, is a special key representing the complete data given to the templating engine. This is useful for iterating over the top level of a container {{#-top-}} … {{/-top-}} and rendering json representation of data given with $ and %.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2018/11/16/the-top-mustache-extension-in-cfengine-3/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2018/11/13/hacking-custom-variables-for-additional-augments-in-cfengine/">Hacking custom variables for additional augments in CFEngine</a></h4>
							<h4 class="post-date">Nov 13, 2018</h4>
						</div>
						<div class="post-summary"><p>CFEngine 3.12.0 introduced the augments key to the Augments file format. If you are not already familiar with Augments, check it out. It&#39;s a very easy way to define classes and variables very early during agent execution, before policy.
 The new augments key allows you to merge additional data in the augments format on top of the base augments. I However, there is, I think, still a simple way to accomplish this.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2018/11/13/hacking-custom-variables-for-additional-augments-in-cfengine/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2018/11/10/looking-at-three-high-level-patterns-in-cfengine-3/">Looking at three high level patterns in CFEngine 3</a></h4>
							<h4 class="post-date">Nov 10, 2018</h4>
						</div>
						<div class="post-summary"><p>How do you deal with config files that need different settings based on various services that are running on a host and cooperate with other teams? It&#39;s a common question, and it came up on in #cfengine on irc.freenode.net recently.
 The issue is that team A might be working on package A, which requires some environment variables set. But team B might be working on a totally different thing – and want to achieve the same thing.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2018/11/10/looking-at-three-high-level-patterns-in-cfengine-3/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2018/10/22/automatically-define-classes-for-every-promise-with-cfengine-3/">Automatically define classes for every promise with CFEngine 3</a></h4>
							<h4 class="post-date">Oct 22, 2018</h4>
						</div>
						<div class="post-summary"><p>In CFEngine classes are used for decision making. Classes can be defined as the result of a promise by attaching a classes body to the promise via the classes attribute.
 For example, here we run the command echo Hello World and define bundle scoped classes using the results classes body prefixed with Hello_World.
1 2 3 4 5 6 7 8 9 10  bundle agent main { commands: &#34;echo Hello World&#34; contain =&gt; in_shell, classes =&gt; results( &#34;bundle&#34;, &#34;Hello_World&#34; ); reports: &#34;Defined Classes: $(with)&#34; with =&gt; join( &#34;, &#34;, classesmatching( &#34;Hello_.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2018/10/22/automatically-define-classes-for-every-promise-with-cfengine-3/">Read More</a>
						</div>
					</div>
				</li>
			
			</ul>
            

<div class="pagination-wrapper text-center">
  <ul class="pagination">
      
      <li>
          <a href="/post/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      
      <li
      class="disabled">
          <a href="" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
      </li>
      
      <li
      class="active"><a href="/post/">1</a></li>
      
      <li
      ><a href="/post/page/2/">2</a></li>
      
      <li
      ><a href="/post/page/3/">3</a></li>
      
      <li
      ><a href="/post/page/4/">4</a></li>
      
      <li
      ><a href="/post/page/5/">5</a></li>
      
      <li
      ><a href="/post/page/6/">6</a></li>
      
      <li
      ><a href="/post/page/7/">7</a></li>
      
      <li
      ><a href="/post/page/8/">8</a></li>
      
      <li
      ><a href="/post/page/9/">9</a></li>
      
      <li
      ><a href="/post/page/10/">10</a></li>
      
      <li
      ><a href="/post/page/11/">11</a></li>
      
      <li
      ><a href="/post/page/12/">12</a></li>
      
      <li
      ><a href="/post/page/13/">13</a></li>
      
      <li
      ><a href="/post/page/14/">14</a></li>
      
      <li
      ><a href="/post/page/15/">15</a></li>
      
      <li
      ><a href="/post/page/16/">16</a></li>
      
      <li
      ><a href="/post/page/17/">17</a></li>
      
      <li
      ><a href="/post/page/18/">18</a></li>
      
      <li
      ><a href="/post/page/19/">19</a></li>
      
      <li
      ><a href="/post/page/20/">20</a></li>
      
      <li
      ><a href="/post/page/21/">21</a></li>
      
      <li
      ><a href="/post/page/22/">22</a></li>
      
      <li
      ><a href="/post/page/23/">23</a></li>
      
      <li
      ><a href="/post/page/24/">24</a></li>
      
      <li
      ><a href="/post/page/25/">25</a></li>
      
      <li
      ><a href="/post/page/26/">26</a></li>
      
      <li
      >
          <a href="/post/page/2/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
      </li>
      
      <li>
          <a href="/post/page/26/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
      
    </ul>
</div>



			<div class="push"></div>
		</div>
		<footer class="footer text-center">
<p>Copyright &copy; 2022 Nick Anderson -
<span class="credit">
	Powered by
	<a target="_blank" href="https://gohugo.io">Hugo</a>
	and
	<a target="_blank" href="https://github.com/LordMathis/hugo-theme-nix/">Nix</a> theme.
</span>
</p>
</footer>

	</body>
</html>
