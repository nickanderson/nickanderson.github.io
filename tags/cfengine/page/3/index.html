<!DOCTYPE html>
<html lang="">

	<head>
		<title> CFEngine &middot;  </title>

		<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.80.0" />


<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">


<link rel="stylesheet" href="https://cmdln.org/css/nix.css">
<link rel="stylesheet" href="https://cmdln.org/css/syntax.css">


<link href="https://fonts.googleapis.com/css?family=Inconsolata|Open+Sans|Roboto|Montserrat|Concert+One" rel="stylesheet">




	</head>

	<body>
		<header>
<nav class="navbar navbar-default navbar-fixed-top navbar-inverse font-header">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-1" aria-expanded="false">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" id="green-terminal" href=https://cmdln.org>nick@cmdln.org ~ $</a>
		</div>

		
		<div class="collapse navbar-collapse" id="navbar-collapse-1">
			<ul class="nav navbar-nav navbar-right">
				<li>
					<a href="https://cmdln.org">/home/nick</a>
				</li>
				
				
				<li >
					<a href="/post/">~/posts</a>
				</li>
				

			</ul>
		</div>
	</div>
</nav>
</header>

		<div class="container wrapper">
			<div class="row">
				<div class="col-xs-12 text-center">
					<h1 id=>CFEngine</h1>
				</div>
			</div>
			<ul id="post-list">
                	
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2017/11/20/are-cfegine-classes-automatically-canonified/">Are CFEgine classes automatically canonified?</a></h4>
							<h4 class="post-date">Nov 20, 2017</h4>
						</div>
						<div class="post-summary"><p>Is there implicit &#34;canonify&#34;-cation happening in in &#34;classes:&#34; promise type?
  Yes the agent will automatically canonify classes that you define for your convenience.
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28  bundle agent main # @brief show how classes are automatically canonified during definition  { vars: &#34;invalid_class_string&#34; string =&gt; &#34;my-invalid-class&#34;; classes: @if minimum_version(3.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2017/11/20/are-cfegine-classes-automatically-canonified/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2015/08/20/cfengine-fixin-my-freenas/">CFEngine fixin my FreeNAS</a></h4>
							<h4 class="post-date">Aug 21, 2015</h4>
						</div>
						<div class="post-summary"><p>I recently built a new file server and I based it on the well renowned FreeNASby iXsystems. It’s been pretty solid over the past few weeks but today I ran into an issue. The web ui stopped responding. Actually it turned out that the django service had stopped. Well, that was the perfect opportunity to use CFEngine to make sure I never have the issue again.
I grabbed the cfengine community 3.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2015/08/20/cfengine-fixin-my-freenas/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2013/10/29/digging-up-bundles-and-bodies/">Digging up bundles and bodies</a></h4>
							<h4 class="post-date">Oct 29, 2013</h4>
						</div>
						<div class="post-summary"><p>You never know when the Zombie or Cloud Apocalypse is coming. It’s good to be able to locate those buried bodies quickly and easily. OK, enough bad jokes, but haven’t you ever looked at some CFEngine policy and wondered to yourself, exactly what does “delete =&gt; tidy” or some other body or bundle do?
I have. I even wrote a crappy little perl script to locate the files that contained a specific body or bundle and then print out the single body or bundle.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2013/10/29/digging-up-bundles-and-bodies/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2013/05/01/i-am-so-excited-and-i-just-cant-hide-it/">I am so excited! And I just cant hide it!</a></h4>
							<h4 class="post-date">May 1, 2013</h4>
						</div>
						<div class="post-summary"><p>Today I start a new journey with some of the smartest people on the planet. I have accepted a position with CFEngine. Primarily I will be assisting customers with the evaluation, design, implementation and policy writing. If you know me from the CFEngine community, don&rsquo;t worry I only plan to increase my activity and continue to help in any way I can. Now one of my favourite hobbies is my job!</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2013/05/01/i-am-so-excited-and-i-just-cant-hide-it/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2013/03/29/canonifying-a-list-with-cfengine-3/">Canonifying a list with CFEngine 3</a></h4>
							<h4 class="post-date">Mar 29, 2013</h4>
						</div>
						<div class="post-summary"><p>John Sanders shared a pattern for canonifying lists in #CFEngine on irc.freenode.net yesterday. It’s a useful reference so I thought I would replicate it here.
 &lt;td class=&quot;line-data&quot;&gt; &lt;pre class=&quot;line-pre&quot;&gt;&lt;div class=&quot;line&quot; id=&quot;file-output-LC1&quot;&gt;  % cf-agent -KIf ./example_canonify_list.cf
 &lt;div class=&quot;gist-meta&quot;&gt; &lt;a href=&quot;https://gist.github.com/nickanderson/5271023/raw/d57a43831308cf31f0a5fe237b3d3436ed3d3049/Output&quot; style=&quot;float:right&quot;&gt;view raw&lt;/a&gt; &lt;a href=&quot;https://gist.github.com/nickanderson/5271023#file-output&quot; style=&quot;float:right; margin-right:10px; color:#666;&quot;&gt;Output&lt;/a&gt; &lt;a href=&quot;https://gist.github.com/nickanderson/5271023&quot;&gt;This Gist&lt;/a&gt; is brought to you using &lt;a href=&quot;http://en.bainternet.info/2011/simple-gist-embed&quot;&gt;&lt;small&gt;Simple Gist Embed&lt;/small&gt;&lt;/a&gt;. &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;gist-file&quot;&gt; &lt;div class=&quot;gist-data gist-syntax&quot;&gt; &lt;div class=&quot;file-data&quot;&gt; &lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;lines highlight&quot;&gt; &lt;tr&gt; &lt;td class=&quot;line-numbers&quot;&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L1&quot; rel=&quot;file-example_canonify_list-cf-L1&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L2&quot; rel=&quot;file-example_canonify_list-cf-L2&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L3&quot; rel=&quot;file-example_canonify_list-cf-L3&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L4&quot; rel=&quot;file-example_canonify_list-cf-L4&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L5&quot; rel=&quot;file-example_canonify_list-cf-L5&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L6&quot; rel=&quot;file-example_canonify_list-cf-L6&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L7&quot; rel=&quot;file-example_canonify_list-cf-L7&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L8&quot; rel=&quot;file-example_canonify_list-cf-L8&quot;&gt;8&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L9&quot; rel=&quot;file-example_canonify_list-cf-L9&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L10&quot; rel=&quot;file-example_canonify_list-cf-L10&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L11&quot; rel=&quot;file-example_canonify_list-cf-L11&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L12&quot; rel=&quot;file-example_canonify_list-cf-L12&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L13&quot; rel=&quot;file-example_canonify_list-cf-L13&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L14&quot; rel=&quot;file-example_canonify_list-cf-L14&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L15&quot; rel=&quot;file-example_canonify_list-cf-L15&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L16&quot; rel=&quot;file-example_canonify_list-cf-L16&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L17&quot; rel=&quot;file-example_canonify_list-cf-L17&quot;&gt;17&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L18&quot; rel=&quot;file-example_canonify_list-cf-L18&quot;&gt;18&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L19&quot; rel=&quot;file-example_canonify_list-cf-L19&quot;&gt;19&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L20&quot; rel=&quot;file-example_canonify_list-cf-L20&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L21&quot; rel=&quot;file-example_canonify_list-cf-L21&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L22&quot; rel=&quot;file-example_canonify_list-cf-L22&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L23&quot; rel=&quot;file-example_canonify_list-cf-L23&quot;&gt;23&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L24&quot; rel=&quot;file-example_canonify_list-cf-L24&quot;&gt;24&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L25&quot; rel=&quot;file-example_canonify_list-cf-L25&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L26&quot; rel=&quot;file-example_canonify_list-cf-L26&quot;&gt;26&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L27&quot; rel=&quot;file-example_canonify_list-cf-L27&quot;&gt;27&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L28&quot; rel=&quot;file-example_canonify_list-cf-L28&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L29&quot; rel=&quot;file-example_canonify_list-cf-L29&quot;&gt;29&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L30&quot; rel=&quot;file-example_canonify_list-cf-L30&quot;&gt;30&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L31&quot; rel=&quot;file-example_canonify_list-cf-L31&quot;&gt;31&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L32&quot; rel=&quot;file-example_canonify_list-cf-L32&quot;&gt;32&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L33&quot; rel=&quot;file-example_canonify_list-cf-L33&quot;&gt;33&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L34&quot; rel=&quot;file-example_canonify_list-cf-L34&quot;&gt;34&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L35&quot; rel=&quot;file-example_canonify_list-cf-L35&quot;&gt;35&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L36&quot; rel=&quot;file-example_canonify_list-cf-L36&quot;&gt;36&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L37&quot; rel=&quot;file-example_canonify_list-cf-L37&quot;&gt;37&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L38&quot; rel=&quot;file-example_canonify_list-cf-L38&quot;&gt;38&lt;/span&gt; &lt;span class=&quot;line-number&quot; id=&quot;file-example_canonify_list-cf-L39&quot; rel=&quot;file-example_canonify_list-cf-L39&quot;&gt;39&lt;/span&gt; &lt;/td&gt; &lt;td class=&quot;line-data&quot;&gt; &lt;pre class=&quot;line-pre&quot;&gt;&lt;div class=&quot;line&quot; id=&quot;file-example_canonify_list-cf-LC1&quot;&gt;  body common control</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2013/03/29/canonifying-a-list-with-cfengine-3/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2013/03/13/working-around-getindices-with-dynamically-generated-arrays-in-cfengine-3/">Working around getindices with dynamically generated arrays in CFEngine 3</a></h4>
							<h4 class="post-date">Mar 13, 2013</h4>
						</div>
						<div class="post-summary"><p>There is a known bugwhere getindicesis unable to get the index of a dynamically generated array until the next pass. This comes up from time to time so I thought I would post an example using a pattern shared on the CFEngine help mailing list. The policy below shows 3 working examples. They are mostly similar, example0 shows the simplest workaround, example1 and example2 in addition show ways to suppress the “Duplicate selection of value for variable” messages.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2013/03/13/working-around-getindices-with-dynamically-generated-arrays-in-cfengine-3/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2013/01/11/cfengine-3-4-2-changelog-for-breakfast/">CFEngine 3.4.2 Changelog for Breakfast</a></h4>
							<h4 class="post-date">Jan 11, 2013</h4>
						</div>
						<div class="post-summary"><p>Changelogs are just as important as the most important meal of the day. OK so I don’t always eat breakfast, but I do make an effort to read changelogs. CFEngine 3.4.2was released today.
What I found interesting was that the default masterfiles policy has been updated. body executor control now calls $(sys.workdir)/inputs/update.cf instead of failsafe.cf. And $(sys.workdir)/failsafe/failsafe.cf (which was new as of 3.4.0) is gone. I think its a good change.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2013/01/11/cfengine-3-4-2-changelog-for-breakfast/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2012/10/24/cfengine-3-policy-update-or-how-cf_promises_validated-works/">CFEngine 3 Policy Update or How cf_promises_validated Works</a></h4>
							<h4 class="post-date">Oct 25, 2012</h4>
						</div>
						<div class="post-summary"><p>Over the past several months2 years (since 3.1.2 release, wow time flys when your having fun. I checked and 3.1.2 was releasedon Dec 9th 2010.) I have seenafewquestionsregarding how the default CFEngine policy update works, and more specifically how cf_promises_validated plays into the update process. This is my stab at describing the history and behaviour. I welcome any corrections.
The default failsafe.cf update policy is simple in nature. (We could probably debate what is simpleor complex, but I am comfortable with the label in this case.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2012/10/24/cfengine-3-policy-update-or-how-cf_promises_validated-works/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2012/10/18/cfengine-3-tip-find-out-what-classes-are-being-defined/">CFEngine 3 Tip: Find out what classes are being defined</a></h4>
							<h4 class="post-date">Oct 18, 2012</h4>
						</div>
						<div class="post-summary"><p>CFEngine defines a classes for decision making during runs. Many of these hard classes you can see by running cf-promises -v. That wont show you all the other classes that are raised during a policy run.
You could run something like this to see what classes are raised during execution.
But that isn’t really a clear picture under normal operation. You can use the allclassesreport in body agent control to write out a list of classes defined during execution in /var/cfengine/state/allclasses.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2012/10/18/cfengine-3-tip-find-out-what-classes-are-being-defined/">Read More</a>
						</div>
					</div>
				</li>
			
				<li>
					<div class="post-list-item">
						<div class="post-header">
							<h4 class="post-link"><a href="https://cmdln.org/2012/10/16/dynamic-method-calls-in-cfengine/">Dynamic method calls in CFEngine</a></h4>
							<h4 class="post-date">Oct 16, 2012</h4>
						</div>
						<div class="post-summary"><p>Methods type promises are powerful abstraction tools in CFEngine 3. Methods allow you to activate bundles (optionally parametrized) from other bundles. This allows encapsulation of knowledge and lends itself to re-usability.
I just want to share an example of calling bundles dynamically. It’s a contrived example, but I thought it was neat so here it is.
 &lt;div class=&quot;gist-meta&quot;&gt; &lt;a href=&quot;https://gist.github.com/raw/3901453/0b683269921c056b4e821dd2c63ca6b622122e26/output&quot; style=&quot;float:right;&quot;&gt;view raw&lt;/a&gt; &lt;a href=&quot;https://gist.github.com/3901453#file_output&quot; style=&quot;float:right;margin-right:10px;color:#666&quot;&gt;output&lt;/a&gt; &lt;a href=&quot;https://gist.github.com/3901453&quot;&gt;This Gist&lt;/a&gt; is brought to you using &lt;a href=&quot;http://en.</p></div>
						<div class="post-list-footer text-center">
							<a href="https://cmdln.org/2012/10/16/dynamic-method-calls-in-cfengine/">Read More</a>
						</div>
					</div>
				</li>
			
			</ul>
            

<div class="pagination-wrapper text-center">
  <ul class="pagination">
      
      <li>
          <a href="/tags/cfengine/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      
      <li
      >
          <a href="/tags/cfengine/page/2/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
      </li>
      
      <li
      ><a href="/tags/cfengine/">1</a></li>
      
      <li
      ><a href="/tags/cfengine/page/2/">2</a></li>
      
      <li
      class="active"><a href="/tags/cfengine/page/3/">3</a></li>
      
      <li
      ><a href="/tags/cfengine/page/4/">4</a></li>
      
      <li
      >
          <a href="/tags/cfengine/page/4/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
      </li>
      
      <li>
          <a href="/tags/cfengine/page/4/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
      
    </ul>
</div>



			<div class="push"></div>
		</div>
		<footer class="footer text-center">
<p>Copyright &copy; 2022 Nick Anderson -
<span class="credit">
	Powered by
	<a target="_blank" href="https://gohugo.io">Hugo</a>
	and
	<a target="_blank" href="https://github.com/LordMathis/hugo-theme-nix/">Nix</a> theme.
</span>
</p>
</footer>

	</body>
</html>
